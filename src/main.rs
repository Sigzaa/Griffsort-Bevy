mod characters_impl;
mod commands_impl;
mod resources;
mod temp;
pub mod heroes_mapping;

use actions::{ActionsPlugin, update_inputs};
use characters_impl::Characters;
use commands_impl::ConsoleCommands;
use go_level::plugin::Level;
use gs_inspector::Inspector;
use gs_states::StatesPlugin;
use gs_ui::UI;
use heroes::{Selected, Heroes};
use resources::*;

use bevy::prelude::*;
use temp::TempPlugin;


/*                                                                                                                                                                          
        GGGGGGGGGGGGG                      iiii      ffffffffffffffff      ffffffffffffffff                                                                 tttt          
     GGG::::::::::::G                     i::::i    f::::::::::::::::f    f::::::::::::::::f                                                             ttt:::t          
   GG:::::::::::::::G                      iiii    f::::::::::::::::::f  f::::::::::::::::::f                                                            t:::::t          
  G:::::GGGGGGGG::::G                              f::::::fffffff:::::f  f::::::fffffff:::::f                                                            t:::::t          
 G:::::G       GGGGGGrrrrr   rrrrrrrrr   iiiiiii   f:::::f       ffffff  f:::::f       ffffff    ssssssssss      ooooooooooo   rrrrr   rrrrrrrrr   ttttttt:::::ttttttt    
G:::::G              r::::rrr:::::::::r  i:::::i   f:::::f               f:::::f               ss::::::::::s   oo:::::::::::oo r::::rrr:::::::::r  t:::::::::::::::::t    
G:::::G              r:::::::::::::::::r  i::::i  f:::::::ffffff        f:::::::ffffff       ss:::::::::::::s o:::::::::::::::or:::::::::::::::::r t:::::::::::::::::t    
G:::::G    GGGGGGGGGGrr::::::rrrrr::::::r i::::i  f::::::::::::f        f::::::::::::f       s::::::ssss:::::so:::::ooooo:::::orr::::::rrrrr::::::rtttttt:::::::tttttt    
G:::::G    G::::::::G r:::::r     r:::::r i::::i  f::::::::::::f        f::::::::::::f        s:::::s  ssssss o::::o     o::::o r:::::r     r:::::r      t:::::t          
G:::::G    GGGGG::::G r:::::r     rrrrrrr i::::i  f:::::::ffffff        f:::::::ffffff          s::::::s      o::::o     o::::o r:::::r     rrrrrrr      t:::::t          
G:::::G        G::::G r:::::r             i::::i   f:::::f               f:::::f                   s::::::s   o::::o     o::::o r:::::r                  t:::::t          
 G:::::G       G::::G r:::::r             i::::i   f:::::f               f:::::f             ssssss   s:::::s o::::o     o::::o r:::::r                  t:::::t    tttttt
  G:::::GGGGGGGG::::G r:::::r            i::::::i f:::::::f             f:::::::f            s:::::ssss::::::so:::::ooooo:::::o r:::::r                  t::::::tttt:::::t
   GG:::::::::::::::G r:::::r            i::::::i f:::::::f             f:::::::f            s::::::::::::::s o:::::::::::::::o r:::::r                  tt::::::::::::::t
     GGG::::::GGG:::G r:::::r            i::::::i f:::::::f             f:::::::f             s:::::::::::ss   oo:::::::::::oo  r:::::r                    tt:::::::::::tt
        GGGGGG   GGGG rrrrrrr            iiiiiiii fffffffff             fffffffff              sssssssssss       ooooooooooo    rrrrrrr                      ttttttttttt            
*/
fn main() {
    App::new()

        // Bevy default plugins
        .add_plugins(DefaultPlugins)


        // Handling states of this game
        .add_plugin(StatesPlugin)


        // Console + Configs
        .add_plugin(Inspector::new(env!("CARGO_PKG_VERSION")))


        // Implementation of console commands for Inspector plugin
        .add_plugin(ConsoleCommands)


        // Inputs Handler. List of Actions (Inputs) in resources/action
        .add_plugin(ActionsPlugin::<Action, Selected>::new(
            "./config/conf.ron",
            "./config/def.ron",
        ))


        // Using ActionsPlugin API to work it properly
        .add_system(update_inputs::<Selected, Action>)


        // Debugging and Hardcode 
        .add_plugin(TempPlugin)
        

        // Character controller
        .add_plugin(Heroes)


        // Implementation of heroes using HeroesPlugin APIs
        .add_plugin(Characters)


        .add_plugin(Level)


        .add_plugin(UI)


        .run();
}

/*

                               ****   *****   ***,                              
                        ****, ********************. *****                       
                  ***   *********************************   ***                 
                  ********************    ,********************                 
            ***,  ***************  *****,****   ***************  ,***           
            ***************           *****           ***************           
             **********                                  ***********            
       *************                                        .*************      
        **********************************************         **********       
      ****************************************************      ,**********     
    ********************************************************     ************   
     ********************************************************   ***********,    
    ******    ***,   *************            ***************  ***.    ******   
 **********. *****   *************             *************   ****. .**********
    ***********      *************************************       ,***********   
   *********         ***********************************             *********  
 **********          ************************************            ***********
   *********         *************************************        ************  
   .********         *************           **************       ***********   
 ***********.        *************            **************    ,***************
    *************************************.    *******************************   
     ************************************.     *****************************    
    *************************************.      *****************************   
       ,*********************************.        ************************.     
        ***********    ***                             **     ***********       
       ********************                          *********************      
             ********    ***                         ***    ********            
            **********  ****                        ****   **********           
            **,   ******************         ******************   ,*,           
                  *********************************************                 
                  **    *********************************    **                 
                        ****. ,*******************  .****                       
                               ,***   ****,   ***,  
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
...............................@@@@@@@@@@@..................................................................................................
..............................@@@@@/@@@@@,..............@@@@@@@@@@@@@....&@@@@@@@@@@@@.@@@@@........@@@@@..@@@@*......@@@@@.................
....................@@@@@@@@@@@@@@@@@@@@######..........@@@@@@@@@@@@@@@.,@@@@@@@@@@@@@.%@@@@@......%@@@@@*.@@@@@@....@@@@@@.................
.......................,@@@@@@@@@@@@@@@@@(#######.......@@@@@.....@@@@@.,@@@@@..........@@@@@@.....@@@@@@...@@@@@@..@@@@@@..................
.....................@@@@@@@@@@@@@@@@@@@@@.##(..........@@@@@@@@@@@@@@..,@@@@@@@@@@@@....@@@@@&...@@@@@@.....*@@@@@@@@@@@...................
.................@@@@@@@@@@@@@@@@@@@@@@@@@@##,////......@@@@@@@@@@@@@@@.,@@@@@@@@@@@@*....@@@@@...@@@@@........@@@@@@@@.....................
..............@@@@@@%##%@@@@@@@@@@@@@@@@@@.##,/.//......@@@@@.....@@@@@@,@@@@@.............@@@@@.@@@@@/.........%@@@@@......................
...............................@@@@@@@@@@.##.//////.....@@@@@....&@@@@@@,@@@@@@@@@@@@@.....,@@@@@@@@@#..........%@@@@@......................
..............................@@@@@@@@@.##.///..........@@@@@@@@@@@@@@&..@@@@@@@@@@@@@&......@@@@@@@,...........(@@@@@......................
.........................#@@@@@@@@@@.///////................................................................................................
....................@@@@@@@&................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
............................................................................................................................................
                          
*/